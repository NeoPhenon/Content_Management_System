<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create New Post</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <link rel="stylesheet" th:href="@{/css/createNewPost.css}">
</head>
<body>
	<div>
		<section th:if = "${errorMessage}">
			<strong th:text = "${errorMessage}"></strong>
			 <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>	
		</section>
	</div>
    <div class="container mt-5">
    
        <h2 class="mb-4">Create New Post</h2>
        <a href="#" th:href="@{/posts}" class="btn btn-secondary mb-3">Back to Posts</a>
        <form  th:action="@{/saveNewPosts}" th:object="${post}" method="post" enctype="multipart/form-data">
        	  <!--  we have to unsapringly make sure the we use properly sent file data and the controller correctly processes this data -->
        	  <input type = "hidden" th:field = "*{id}" id = "id" class = "form-control">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" name="title" th:field="*{title}" required>
            </div>
            <div class="form-group">
                <label for="content">Content:</label>
                <textarea class="form-control" id="content" name="content" th:field="*{content}" rows="5" required></textarea>
            </div>
            <div class="form-group">
                <label for="imageFile">Image:</label>
                <input type="file" class="form-control-file" id="imageFile" name="imageFile" required>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
         
        </form>
    </div>

</body>
</html>